local Fluent = loadstring(game:HttpGet("https://raw.githubusercontent.com/FlazhGG/Quantum-V2/main/QuantumHubLibrary"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()
local Window = Fluent:CreateWindow({
  Title = "Quantum Hub : Blox Fruits",
  SubTitle = "Free",
  TabWidth = 160,
  Size = UDim2.fromOffset(580, 410),
  Acrylic = false,
  Theme = "Quantum",
  MinimizeKey = Enum.KeyCode.LeftControl
})

local Info = Window:AddTab({Title = "Info", Icon = "crown"})

local osfunc = Info:AddParagraph({ 
  Title = "[Time Zone]" ,
  Content = ""
  })

local function UpdateOS()
  local date = os.date("*t")
  local hour = (date.hour) % 24
  local ampm = hour < 12 and "AM" or "PM"
  local timezone = string.format("%02i:%02i:%02i %s", ((hour -1) % 12) + 1, date.min, date.sec, ampm)
  local datetime = string.format("%02d/%02d/%04d", date.day, date.month, date.year)
  local LocalizationService = game:GetService("LocalizationService")
  local Players = game:GetService("Players")
  local player = Players.LocalPlayer
  local name = player.Name
  local result, code = pcall(function()
      return LocalizationService:GetCountryRegionForPlayerAsync(player)
  end)
  osfunc:SetDesc("" .. datetime.." - "..timezone.." [" .. code .. "]")
end
spawn(function()
  while true do
      UpdateOS()
      game:GetService("RunService").RenderStepped:Wait()
  end
end)

local Time = Info:AddParagraph({ Title = "[Server Time]", Content = ""})

function UpdateTime()
  local GameTime = math.floor(workspace.DistributedGameTime+0.5)
  local Hour = math.floor(GameTime/(60^2))%24
  local Minute = math.floor(GameTime/(60^1))%60
  local Second = math.floor(GameTime/(60^0))%60
  Time:SetDesc("Hours : "..Hour.." | Minutes : "..Minute.." | Seconds : "..Second)
end

spawn(function()
  while task.wait() do
      pcall(function()
          UpdateTime()
      end)
  end
end)

local discord = Info:AddButton({
  Title = "Join Discord Server",
  Description = "Get lastest news about the script",
  Callback = function()
    Window:Dialog({
      Title = "Title",
      Content = "This is a dialog",
      Buttons = {
          {
              Title = "Copy",
              Callback = function()
                setclipboard("https://discord.gg/BXsJyXfJZx")
              end
          },
          {
              Title = "Cancel",
              Callback = function()
                  print("Cancelled the dialog.")
              end
          }
      }
  })
  end
})

local Main = Window:AddTab({Title = "Main", Icon = "home"})

Main:AddSection("Farm Level")

local WeaponList = {"Melee","Sword","Fruit","Gun"}
_G.SelectWeapon = "Melee"
local WeaponList = Main:AddDropdown("WeaponList", {
  Title = "Select Weapon",
  Description = "",
  Values = WeaponList,
  Multi = false,
  Default = _G.SelectWeapon,
})

WeaponList:SetValue(_G.SelectWeapon)
WeaponList:OnChanged(function(value)
  _G.SelectWeapon = value
end)

task.spawn(function()
	while wait() do
		pcall(function()
			if _G.SelectWeapon == "Melee" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Melee" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							_G.SelectWeapon = v.Name
						end
					end
				end
			elseif _G.SelectWeapon == "Sword" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Sword" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							_G.SelectWeapon = v.Name
						end
					end
				end
			elseif _G.SelectWeapon == "Gun" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Gun" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							_G.SelectWeapon = v.Name
						end
					end
				end
			elseif _G.SelectWeapon == "Fruit" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Blox Fruit" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							_G.SelectWeapon = v.Name
						end
					end
				end
			end
		end)
	end
    end)


    local ListF = {"Normal", "Auto Quest", "Nearest"}
FarmMode = "Normal"

local FarmMode = Main:AddDropdown("FarmMode", {
  Title = "Select Farm Mode",
  Description = "",
  Values = ListF,
  Multi = false,
  Default = FarmMode,
})

FarmMode:SetValue(FarmMode)
FarmMode:OnChanged(function(value)
  FarmMode = value
end)


local MonsterStatus = Main:AddParagraph({ Title = "", Content = ""})
local QuestStatus = Main:AddParagraph({Title = "", Content = ""})

spawn(function()
  while task.wait() do
  if game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Visible == false then
  MonsterStatus:SetTitle("[Monster] : ...")
  QuestStatus:SetTitle("[Quest] : ...".." | [Level] : ...")
  elseif game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Visible == true then
  pcall(function()
    CheckQuest()
    MonsterStatus:SetTitle("[Monster] : "..Mon)
    QuestStatus:SetTitle("[Quest] : "..NameQuest.." | [Level] : "..LevelQuest)
    end)
  end
  end
  end)

  local AutoFarm = Main:AddToggle("AutoFarm", {
    Title = "Auto Farm",
    Description = "Farms selected method",
    Default = false,
    Callback = function(value)
      
    end})

Fluent:Notify({
  Title = "Quantum Hub",
  Content = "The script has been loaded.",
  Duration = 5
})
